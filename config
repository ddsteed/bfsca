#!/usr/bin/env  bash
#-----------------------------------------------------------------------
# This shell script is to set up the working scatch and the store 
# directory and compile all the source codes.
#
#  RDS (Hao Feng)
#  Jul 20, 2013
#
#-----------------------------------------------------------------------
function make_work {
    echo -n " Please specify the working scratch directory, [./work]: "
    read work

    if [[ $work == "" ]]; then	work="$currpath/work"; fi
    if [ ! -d $work ]; then mkdir $work; fi
    cd $work
    work=`pwd`
    cd $currpath
}

#-----------------------------------------------------------------------
function store_name {
    st=(
./alam/H2/HF/BTAD/ACCD
./alam/H2/HF/BTAD/ACCQ
./alam/H2/HF/BTAD/ACCT
./alam/H2/HF/BTAD/CCD
./alam/H2/HF/BTAD/CCQ
./alam/H2/HF/BTAD/CCT
./alam/H2/HF/BTAD/M2
./alam/H2/HF/BTAD/M2H
./alam/H2/HF/BTAD
./alam/H2/HF/DSG/ACCD
./alam/H2/HF/DSG/ACCQ
./alam/H2/HF/DSG/ACCT
./alam/H2/HF/DSG/CCD
./alam/H2/HF/DSG/CCQ
./alam/H2/HF/DSG/CCT
./alam/H2/HF/DSG/M2
./alam/H2/HF/DSG/M2H
./alam/H2/HF/DSG
./alam/H2/HF
./alam/H2
./alam/N2/HF/BTAD/ACC5
./alam/N2/HF/BTAD/ACC6
./alam/N2/HF/BTAD/ACCD
./alam/N2/HF/BTAD/ACCQ
./alam/N2/HF/BTAD/ACCT
./alam/N2/HF/BTAD/CCD
./alam/N2/HF/BTAD/CCQ
./alam/N2/HF/BTAD/CCT
./alam/N2/HF/BTAD/M2H
./alam/N2/HF/BTAD
./alam/N2/HF/DSG/ACC5
./alam/N2/HF/DSG/ACC6
./alam/N2/HF/DSG/ACCD
./alam/N2/HF/DSG/ACCQ
./alam/N2/HF/DSG/ACCT
./alam/N2/HF/DSG/CCD
./alam/N2/HF/DSG/CCQ
./alam/N2/HF/DSG/CCT
./alam/N2/HF/DSG/M2H
./alam/N2/HF/DSG
./alam/N2/HF
./alam/N2
./alam
./enmv/H2/ACCD
./enmv/H2/ACCQ
./enmv/H2/ACCT
./enmv/H2/CCD
./enmv/H2/CCQ
./enmv/H2/CCT
./enmv/H2/M2
./enmv/H2/M2H
./enmv/H2
./enmv/N2/ACC5
./enmv/N2/ACC6
./enmv/N2/ACCD
./enmv/N2/ACCQ
./enmv/N2/ACCT
./enmv/N2/CCD
./enmv/N2/CCQ
./enmv/N2/CCT
./enmv/N2/M2H
./enmv/N2
./enmv
./exker/H2/HF/BTAD/ACCD
./exker/H2/HF/BTAD/ACCQ
./exker/H2/HF/BTAD/ACCT
./exker/H2/HF/BTAD/CCD
./exker/H2/HF/BTAD/CCQ
./exker/H2/HF/BTAD/CCT
./exker/H2/HF/BTAD/M2
./exker/H2/HF/BTAD/M2H
./exker/H2/HF/BTAD
./exker/H2/HF/DSG/ACCD
./exker/H2/HF/DSG/ACCQ
./exker/H2/HF/DSG/ACCT
./exker/H2/HF/DSG/CCD
./exker/H2/HF/DSG/CCQ
./exker/H2/HF/DSG/CCT
./exker/H2/HF/DSG/M2
./exker/H2/HF/DSG/M2H
./exker/H2/HF/DSG
./exker/H2/HF
./exker/H2
./exker/N2/HF/BTAD/ACC5
./exker/N2/HF/BTAD/ACC6
./exker/N2/HF/BTAD/ACCD
./exker/N2/HF/BTAD/ACCQ
./exker/N2/HF/BTAD/ACCT
./exker/N2/HF/BTAD/CCD
./exker/N2/HF/BTAD/CCQ
./exker/N2/HF/BTAD/CCT
./exker/N2/HF/BTAD/M2H
./exker/N2/HF/BTAD
./exker/N2/HF/DSG/ACC5
./exker/N2/HF/DSG/ACC6
./exker/N2/HF/DSG/ACCD
./exker/N2/HF/DSG/ACCQ
./exker/N2/HF/DSG/ACCT
./exker/N2/HF/DSG/CCD
./exker/N2/HF/DSG/CCQ
./exker/N2/HF/DSG/CCT
./exker/N2/HF/DSG/M2H
./exker/N2/HF/DSG
./exker/N2/HF
./exker/N2
./exker
./lavib/H2/HF/BTAD/ACCD
./lavib/H2/HF/BTAD/ACCQ
./lavib/H2/HF/BTAD/ACCT
./lavib/H2/HF/BTAD/CCD
./lavib/H2/HF/BTAD/CCQ
./lavib/H2/HF/BTAD/CCT
./lavib/H2/HF/BTAD/M2
./lavib/H2/HF/BTAD/M2H
./lavib/H2/HF/BTAD
./lavib/H2/HF/DSG/ACCD
./lavib/H2/HF/DSG/ACCQ
./lavib/H2/HF/DSG/ACCT
./lavib/H2/HF/DSG/CCD
./lavib/H2/HF/DSG/CCQ
./lavib/H2/HF/DSG/CCT
./lavib/H2/HF/DSG/M2
./lavib/H2/HF/DSG/M2H
./lavib/H2/HF/DSG
./lavib/H2/HF
./lavib/H2
./lavib/N2/HF/BTAD/ACC5
./lavib/N2/HF/BTAD/ACC6
./lavib/N2/HF/BTAD/ACCD
./lavib/N2/HF/BTAD/ACCQ
./lavib/N2/HF/BTAD/ACCT
./lavib/N2/HF/BTAD/CCD
./lavib/N2/HF/BTAD/CCQ
./lavib/N2/HF/BTAD/CCT
./lavib/N2/HF/BTAD/M2H
./lavib/N2/HF/BTAD
./lavib/N2/HF/DSG/ACC5
./lavib/N2/HF/DSG/ACC6
./lavib/N2/HF/DSG/ACCD
./lavib/N2/HF/DSG/ACCQ
./lavib/N2/HF/DSG/ACCT
./lavib/N2/HF/DSG/CCD
./lavib/N2/HF/DSG/CCQ
./lavib/N2/HF/DSG/CCT
./lavib/N2/HF/DSG/M2H
./lavib/N2/HF/DSG
./lavib/N2/HF
./lavib/N2
./lavib
./mpmom/H2/HF/BTAD/ACCD
./mpmom/H2/HF/BTAD/ACCQ
./mpmom/H2/HF/BTAD/ACCT
./mpmom/H2/HF/BTAD/CCD
./mpmom/H2/HF/BTAD/CCQ
./mpmom/H2/HF/BTAD/CCT
./mpmom/H2/HF/BTAD/M2
./mpmom/H2/HF/BTAD/M2H
./mpmom/H2/HF/BTAD
./mpmom/H2/HF/DSG/ACCD
./mpmom/H2/HF/DSG/ACCQ
./mpmom/H2/HF/DSG/ACCT
./mpmom/H2/HF/DSG/CCD
./mpmom/H2/HF/DSG/CCQ
./mpmom/H2/HF/DSG/CCT
./mpmom/H2/HF/DSG/M2
./mpmom/H2/HF/DSG/M2H
./mpmom/H2/HF/DSG
./mpmom/H2/HF
./mpmom/H2
./mpmom/N2/HF/BTAD/ACC5
./mpmom/N2/HF/BTAD/ACC6
./mpmom/N2/HF/BTAD/ACCD
./mpmom/N2/HF/BTAD/ACCQ
./mpmom/N2/HF/BTAD/ACCT
./mpmom/N2/HF/BTAD/CCD
./mpmom/N2/HF/BTAD/CCQ
./mpmom/N2/HF/BTAD/CCT
./mpmom/N2/HF/BTAD/M2H
./mpmom/N2/HF/BTAD
./mpmom/N2/HF/DSG/ACC5
./mpmom/N2/HF/DSG/ACC6
./mpmom/N2/HF/DSG/ACCD
./mpmom/N2/HF/DSG/ACCQ
./mpmom/N2/HF/DSG/ACCT
./mpmom/N2/HF/DSG/CCD
./mpmom/N2/HF/DSG/CCQ
./mpmom/N2/HF/DSG/CCT
./mpmom/N2/HF/DSG/M2H
./mpmom/N2/HF/DSG
./mpmom/N2/HF
./mpmom/N2
./mpmom
./spfd/H2/HF/BTAD/ACCD
./spfd/H2/HF/BTAD/ACCQ
./spfd/H2/HF/BTAD/ACCT
./spfd/H2/HF/BTAD/CCD
./spfd/H2/HF/BTAD/CCQ
./spfd/H2/HF/BTAD/CCT
./spfd/H2/HF/BTAD/M2
./spfd/H2/HF/BTAD/M2H
./spfd/H2/HF/BTAD
./spfd/H2/HF/DSG/ACCD
./spfd/H2/HF/DSG/ACCQ
./spfd/H2/HF/DSG/ACCT
./spfd/H2/HF/DSG/CCD
./spfd/H2/HF/DSG/CCQ
./spfd/H2/HF/DSG/CCT
./spfd/H2/HF/DSG/M2
./spfd/H2/HF/DSG/M2H
./spfd/H2/HF/DSG
./spfd/H2/HF
./spfd/H2
./spfd/N2/HF/BTAD/ACC5
./spfd/N2/HF/BTAD/ACC6
./spfd/N2/HF/BTAD/ACCD
./spfd/N2/HF/BTAD/ACCQ
./spfd/N2/HF/BTAD/ACCT
./spfd/N2/HF/BTAD/CCD
./spfd/N2/HF/BTAD/CCQ
./spfd/N2/HF/BTAD/CCT
./spfd/N2/HF/BTAD/M2H
./spfd/N2/HF/BTAD
./spfd/N2/HF/DSG/ACC5
./spfd/N2/HF/DSG/ACC6
./spfd/N2/HF/DSG/ACCD
./spfd/N2/HF/DSG/ACCQ
./spfd/N2/HF/DSG/ACCT
./spfd/N2/HF/DSG/CCD
./spfd/N2/HF/DSG/CCQ
./spfd/N2/HF/DSG/CCT
./spfd/N2/HF/DSG/M2H
./spfd/N2/HF/DSG
./spfd/N2/HF
./spfd/N2
./spfd
./vdcs/H2/HF/BTAD/ACCD
./vdcs/H2/HF/BTAD/ACCQ
./vdcs/H2/HF/BTAD/ACCT
./vdcs/H2/HF/BTAD/CCD
./vdcs/H2/HF/BTAD/CCQ
./vdcs/H2/HF/BTAD/CCT
./vdcs/H2/HF/BTAD/M2
./vdcs/H2/HF/BTAD/M2H
./vdcs/H2/HF/BTAD
./vdcs/H2/HF/DSG/ACCD
./vdcs/H2/HF/DSG/ACCQ
./vdcs/H2/HF/DSG/ACCT
./vdcs/H2/HF/DSG/CCD
./vdcs/H2/HF/DSG/CCQ
./vdcs/H2/HF/DSG/CCT
./vdcs/H2/HF/DSG/M2
./vdcs/H2/HF/DSG/M2H
./vdcs/H2/HF/DSG
./vdcs/H2/HF
./vdcs/H2
./vdcs/N2/HF/BTAD/ACC5
./vdcs/N2/HF/BTAD/ACC6
./vdcs/N2/HF/BTAD/ACCD
./vdcs/N2/HF/BTAD/ACCQ
./vdcs/N2/HF/BTAD/ACCT
./vdcs/N2/HF/BTAD/CCD
./vdcs/N2/HF/BTAD/CCQ
./vdcs/N2/HF/BTAD/CCT
./vdcs/N2/HF/BTAD/M2H
./vdcs/N2/HF/BTAD
./vdcs/N2/HF/DSG/ACC5
./vdcs/N2/HF/DSG/ACC6
./vdcs/N2/HF/DSG/ACCD
./vdcs/N2/HF/DSG/ACCQ
./vdcs/N2/HF/DSG/ACCT
./vdcs/N2/HF/DSG/CCD
./vdcs/N2/HF/DSG/CCQ
./vdcs/N2/HF/DSG/CCT
./vdcs/N2/HF/DSG/M2H
./vdcs/N2/HF/DSG
./vdcs/N2/HF
./vdcs/N2
./vdcs
./vpol/H2/DATA_IN
./vpol/H2/HF/BTAD/ACCD
./vpol/H2/HF/BTAD/ACCQ
./vpol/H2/HF/BTAD/ACCT
./vpol/H2/HF/BTAD/CCD
./vpol/H2/HF/BTAD/CCQ
./vpol/H2/HF/BTAD/CCT
./vpol/H2/HF/BTAD/M2
./vpol/H2/HF/BTAD/M2H
./vpol/H2/HF/BTAD
./vpol/H2/HF/DSG/ACCD
./vpol/H2/HF/DSG/ACCQ
./vpol/H2/HF/DSG/ACCT
./vpol/H2/HF/DSG/CCD
./vpol/H2/HF/DSG/CCQ
./vpol/H2/HF/DSG/CCT
./vpol/H2/HF/DSG/M2
./vpol/H2/HF/DSG/M2H
./vpol/H2/HF/DSG
./vpol/H2/HF
./vpol/H2/POT_ORI/HF/BTAD/ACCD
./vpol/H2/POT_ORI/HF/BTAD/ACCQ
./vpol/H2/POT_ORI/HF/BTAD/ACCT
./vpol/H2/POT_ORI/HF/BTAD/CCD
./vpol/H2/POT_ORI/HF/BTAD/CCQ
./vpol/H2/POT_ORI/HF/BTAD/CCT
./vpol/H2/POT_ORI/HF/BTAD/M2
./vpol/H2/POT_ORI/HF/BTAD/M2H
./vpol/H2/POT_ORI/HF/BTAD
./vpol/H2/POT_ORI/HF/DSG/ACCD
./vpol/H2/POT_ORI/HF/DSG/ACCQ
./vpol/H2/POT_ORI/HF/DSG/ACCT
./vpol/H2/POT_ORI/HF/DSG/CCD
./vpol/H2/POT_ORI/HF/DSG/CCQ
./vpol/H2/POT_ORI/HF/DSG/CCT
./vpol/H2/POT_ORI/HF/DSG/M2
./vpol/H2/POT_ORI/HF/DSG/M2H
./vpol/H2/POT_ORI/HF/DSG
./vpol/H2/POT_ORI/HF
./vpol/H2/POT_ORI
./vpol/H2
./vpol/N2/DATA_IN
./vpol/N2/HF/BTAD/ACC5
./vpol/N2/HF/BTAD/ACC6
./vpol/N2/HF/BTAD/ACCD
./vpol/N2/HF/BTAD/ACCQ
./vpol/N2/HF/BTAD/ACCT
./vpol/N2/HF/BTAD/CCD
./vpol/N2/HF/BTAD/CCQ
./vpol/N2/HF/BTAD/CCT
./vpol/N2/HF/BTAD/M2H
./vpol/N2/HF/BTAD
./vpol/N2/HF/DSG/ACC5
./vpol/N2/HF/DSG/ACC6
./vpol/N2/HF/DSG/ACCD
./vpol/N2/HF/DSG/ACCQ
./vpol/N2/HF/DSG/ACCT
./vpol/N2/HF/DSG/CCD
./vpol/N2/HF/DSG/CCQ
./vpol/N2/HF/DSG/CCT
./vpol/N2/HF/DSG/M2H
./vpol/N2/HF/DSG
./vpol/N2/HF
./vpol/N2/POT_ORI/HF/BTAD/ACC5
./vpol/N2/POT_ORI/HF/BTAD/ACC6
./vpol/N2/POT_ORI/HF/BTAD/ACCD
./vpol/N2/POT_ORI/HF/BTAD/ACCQ
./vpol/N2/POT_ORI/HF/BTAD/ACCT
./vpol/N2/POT_ORI/HF/BTAD/CCD
./vpol/N2/POT_ORI/HF/BTAD/CCQ
./vpol/N2/POT_ORI/HF/BTAD/CCT
./vpol/N2/POT_ORI/HF/BTAD/M2H
./vpol/N2/POT_ORI/HF/BTAD
./vpol/N2/POT_ORI/HF/DSG/ACC5
./vpol/N2/POT_ORI/HF/DSG/ACC6
./vpol/N2/POT_ORI/HF/DSG/ACCD
./vpol/N2/POT_ORI/HF/DSG/ACCQ
./vpol/N2/POT_ORI/HF/DSG/ACCT
./vpol/N2/POT_ORI/HF/DSG/CCD
./vpol/N2/POT_ORI/HF/DSG/CCQ
./vpol/N2/POT_ORI/HF/DSG/CCT
./vpol/N2/POT_ORI/HF/DSG/M2H
./vpol/N2/POT_ORI/HF/DSG
./vpol/N2/POT_ORI/HF
./vpol/N2/POT_ORI
./vpol/N2
./vpol
./vstat/H2/HF/BTAD/ACCD
./vstat/H2/HF/BTAD/ACCQ
./vstat/H2/HF/BTAD/ACCT
./vstat/H2/HF/BTAD/CCD
./vstat/H2/HF/BTAD/CCQ
./vstat/H2/HF/BTAD/CCT
./vstat/H2/HF/BTAD/M2
./vstat/H2/HF/BTAD/M2H
./vstat/H2/HF/BTAD
./vstat/H2/HF/DSG/ACCD
./vstat/H2/HF/DSG/ACCQ
./vstat/H2/HF/DSG/ACCT
./vstat/H2/HF/DSG/CCD
./vstat/H2/HF/DSG/CCQ
./vstat/H2/HF/DSG/CCT
./vstat/H2/HF/DSG/M2
./vstat/H2/HF/DSG/M2H
./vstat/H2/HF/DSG
./vstat/H2/HF
./vstat/H2
./vstat/N2/HF/BTAD/ACC5
./vstat/N2/HF/BTAD/ACC6
./vstat/N2/HF/BTAD/ACCD
./vstat/N2/HF/BTAD/ACCQ
./vstat/N2/HF/BTAD/ACCT
./vstat/N2/HF/BTAD/CCD
./vstat/N2/HF/BTAD/CCQ
./vstat/N2/HF/BTAD/CCT
./vstat/N2/HF/BTAD/M2H
./vstat/N2/HF/BTAD
./vstat/N2/HF/DSG/ACC5
./vstat/N2/HF/DSG/ACC6
./vstat/N2/HF/DSG/ACCD
./vstat/N2/HF/DSG/ACCQ
./vstat/N2/HF/DSG/ACCT
./vstat/N2/HF/DSG/CCD
./vstat/N2/HF/DSG/CCQ
./vstat/N2/HF/DSG/CCT
./vstat/N2/HF/DSG/M2H
./vstat/N2/HF/DSG
./vstat/N2/HF
./vstat/N2
./vstat
./vstpol/H2/HF/BTAD/ACCD
./vstpol/H2/HF/BTAD/ACCQ
./vstpol/H2/HF/BTAD/ACCT
./vstpol/H2/HF/BTAD/CCD
./vstpol/H2/HF/BTAD/CCQ
./vstpol/H2/HF/BTAD/CCT
./vstpol/H2/HF/BTAD/M2
./vstpol/H2/HF/BTAD/M2H
./vstpol/H2/HF/BTAD
./vstpol/H2/HF/DSG/ACCD
./vstpol/H2/HF/DSG/ACCQ
./vstpol/H2/HF/DSG/ACCT
./vstpol/H2/HF/DSG/CCD
./vstpol/H2/HF/DSG/CCQ
./vstpol/H2/HF/DSG/CCT
./vstpol/H2/HF/DSG/M2
./vstpol/H2/HF/DSG/M2H
./vstpol/H2/HF/DSG
./vstpol/H2/HF
./vstpol/H2
./vstpol/N2/HF/BTAD/ACC5
./vstpol/N2/HF/BTAD/ACC6
./vstpol/N2/HF/BTAD/ACCD
./vstpol/N2/HF/BTAD/ACCQ
./vstpol/N2/HF/BTAD/ACCT
./vstpol/N2/HF/BTAD/CCD
./vstpol/N2/HF/BTAD/CCQ
./vstpol/N2/HF/BTAD/CCT
./vstpol/N2/HF/BTAD/M2H
./vstpol/N2/HF/BTAD
./vstpol/N2/HF/DSG/ACC5
./vstpol/N2/HF/DSG/ACC6
./vstpol/N2/HF/DSG/ACCD
./vstpol/N2/HF/DSG/ACCQ
./vstpol/N2/HF/DSG/ACCT
./vstpol/N2/HF/DSG/CCD
./vstpol/N2/HF/DSG/CCQ
./vstpol/N2/HF/DSG/CCT
./vstpol/N2/HF/DSG/M2H
./vstpol/N2/HF/DSG
./vstpol/N2/HF
./vstpol/N2
./vstpol
./wlam/H2/DATA_IN
./wlam/H2/HF/BTAD/ACCD
./wlam/H2/HF/BTAD/ACCQ
./wlam/H2/HF/BTAD/ACCT
./wlam/H2/HF/BTAD/CCD
./wlam/H2/HF/BTAD/CCQ
./wlam/H2/HF/BTAD/CCT
./wlam/H2/HF/BTAD/M2
./wlam/H2/HF/BTAD/M2H
./wlam/H2/HF/BTAD
./wlam/H2/HF/DSG/ACCD
./wlam/H2/HF/DSG/ACCQ
./wlam/H2/HF/DSG/ACCT
./wlam/H2/HF/DSG/CCD
./wlam/H2/HF/DSG/CCQ
./wlam/H2/HF/DSG/CCT
./wlam/H2/HF/DSG/M2
./wlam/H2/HF/DSG/M2H
./wlam/H2/HF/DSG
./wlam/H2/HF
./wlam/H2
./wlam/N2/DATA_IN
./wlam/N2/HF/BTAD/ACC5
./wlam/N2/HF/BTAD/ACC6
./wlam/N2/HF/BTAD/ACCD
./wlam/N2/HF/BTAD/ACCQ
./wlam/N2/HF/BTAD/ACCT
./wlam/N2/HF/BTAD/CCD
./wlam/N2/HF/BTAD/CCQ
./wlam/N2/HF/BTAD/CCT
./wlam/N2/HF/BTAD/M2H
./wlam/N2/HF/BTAD
./wlam/N2/HF/DSG/ACC5
./wlam/N2/HF/DSG/ACC6
./wlam/N2/HF/DSG/ACCD
./wlam/N2/HF/DSG/ACCQ
./wlam/N2/HF/DSG/ACCT
./wlam/N2/HF/DSG/CCD
./wlam/N2/HF/DSG/CCQ
./wlam/N2/HF/DSG/CCT
./wlam/N2/HF/DSG/M2H
./wlam/N2/HF/DSG
./wlam/N2/HF
./wlam/N2
./wlam
./wlut/H2/HF/BTAD/ACCD
./wlut/H2/HF/BTAD/ACCQ
./wlut/H2/HF/BTAD/ACCT
./wlut/H2/HF/BTAD/CCD
./wlut/H2/HF/BTAD/CCQ
./wlut/H2/HF/BTAD/CCT
./wlut/H2/HF/BTAD/M2
./wlut/H2/HF/BTAD/M2H
./wlut/H2/HF/BTAD
./wlut/H2/HF/DSG/ACCD
./wlut/H2/HF/DSG/ACCQ
./wlut/H2/HF/DSG/ACCT
./wlut/H2/HF/DSG/CCD
./wlut/H2/HF/DSG/CCQ
./wlut/H2/HF/DSG/CCT
./wlut/H2/HF/DSG/M2
./wlut/H2/HF/DSG/M2H
./wlut/H2/HF/DSG
./wlut/H2/HF
./wlut/H2
./wlut/N2/HF/BTAD/ACC5
./wlut/N2/HF/BTAD/ACC6
./wlut/N2/HF/BTAD/ACCD
./wlut/N2/HF/BTAD/ACCQ
./wlut/N2/HF/BTAD/ACCT
./wlut/N2/HF/BTAD/CCD
./wlut/N2/HF/BTAD/CCQ
./wlut/N2/HF/BTAD/CCT
./wlut/N2/HF/BTAD/M2H
./wlut/N2/HF/BTAD
./wlut/N2/HF/DSG/ACC5
./wlut/N2/HF/DSG/ACC6
./wlut/N2/HF/DSG/ACCD
./wlut/N2/HF/DSG/ACCQ
./wlut/N2/HF/DSG/ACCT
./wlut/N2/HF/DSG/CCD
./wlut/N2/HF/DSG/CCQ
./wlut/N2/HF/DSG/CCT
./wlut/N2/HF/DSG/M2H
./wlut/N2/HF/DSG
./wlut/N2/HF
./wlut/N2
./wlut
)
}

#-----------------------------------------------------------------------
function make_store {
    echo -n " Please specify the store dirctory, [./store]: "
    read store

    if [[ $store == "" ]]; then	store="$currpath/store"; fi
    if [ ! -d $store ]; then mkdir -p $store; fi
    cd $store
    store=`pwd`
    store_name
    for dir in ${st[@]}; do
        if [ ! -d $dir ]; then mkdir -p $dir; fi
    done
    cd $currpath
}

#-----------------------------------------------------------------------
function ch_script {
    cd $currpath/run

    for file in *; do
        sed -e 's:work=.*$:work="'"$work"'":' \
            -e 's:storeT=.*$:storeT="'"$store"'":' \
                $file > $file.tt
        mv $file.tt $file
        chmod a+x $file
    done

    cd ..
}

#-----------------------------------------------------------------------
function compile {
    echo
    echo " NOTE: work = $work "
    echo "      store = $store "
    echo
    echo " Now we are compiling all of the source codes!"
    echo
    
    cd tools
    ./compile.sh 
    cd ..
}

#-----------------------------------------------------------------------
#--- main function

currpath=`pwd`
make_work
make_store
ch_script
compile
